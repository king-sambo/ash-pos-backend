# ============================================
# ASH LETRATO POS - Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# cp .env-sample .env
# ============================================

# ============================================
# APPLICATION
# ============================================
# Options: development, production, test
NODE_ENV=development

# Server port
PORT=3001

# API prefix for all routes
API_PREFIX=/api/v1

# ============================================
# SUPABASE (Required)
# ============================================
# Get these from: Supabase Dashboard → Settings → API

# Project URL (e.g., https://abcdefghijk.supabase.co)
SUPABASE_URL=

# Public anon key (safe to expose in frontend)
SUPABASE_ANON_KEY=

# Service role key (KEEP SECRET - backend only!)
SUPABASE_SERVICE_ROLE_KEY=

# Database connection string
# Get from: Supabase Dashboard → Settings → Database → Connection string → URI
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres
DATABASE_URL=

# ============================================
# JWT AUTHENTICATION (Required)
# ============================================
# Generate secure secrets: openssl rand -base64 32

# Access token secret (minimum 32 characters)
JWT_SECRET=

# Access token expiry (default: 1h)
JWT_EXPIRES_IN=1h

# Refresh token secret (minimum 32 characters)
JWT_REFRESH_SECRET=

# Refresh token expiry (default: 7d)
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# SESSION
# ============================================
# Session timeout in minutes (default: 480 = 8 hours)
SESSION_TIMEOUT_MINUTES=480

# ============================================
# PASSWORD POLICY
# ============================================
# Minimum password length
PASSWORD_MIN_LENGTH=8

# Maximum login attempts before lockout
MAX_LOGIN_ATTEMPTS=5

# Lockout duration in minutes
LOCKOUT_DURATION_MINUTES=15

# ============================================
# CORS
# ============================================
# Frontend URL (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:3000

# ============================================
# RATE LIMITING
# ============================================
# Time window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# LOGGING
# ============================================
# Log level: debug, info, warn, error
LOG_LEVEL=debug

# Morgan log format: combined, common, dev, short, tiny
LOG_FORMAT=dev
